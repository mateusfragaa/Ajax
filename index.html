<html lang="pt-br">
	<head>
		<meta charset="utf-8">
		<title>App Pesquisa Endereço</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

		<script>
			
			function getCep(){
				let cep = document.getElementById('cep').value.replace('-' ,'');
				if (cep.length == 8) {

					let ajax = new XMLHttpRequest();
					ajax.open("get", `https://viacep.com.br/ws/${cep}/json/`);

					ajax.onreadystatechange = () => {
						if(ajax.readyState == 4 && ajax.status == 200){
							let resp = JSON.parse(ajax.responseText);
							console.log(resp)
							document.getElementById('endereco').value = resp.logradouro;
							document.getElementById('bairro').value = resp.bairro;
							document.getElementById('cidade').value = resp.localidade;
							document.getElementById('regiao').value = resp.regiao;
							document.getElementById('uf').value = resp.uf;
						}
					}
					ajax.send();
				}else{
					document.getElementById('cep').value = '';
					alert('O cep deve conter 8 dígitos');
				}

			}

		</script>
	</head>
	<body>
		
		<nav class="navbar navbar-light bg-light mb-4">
			<div class="container">
				<div class="navbar-brand mb-0 h1">
					<h3>App Pesquisa Endereço</h3>
				</div>
			</div>
		</nav>

		<div class="container">
			<div class="row form-group">
				<div class="col-md-3 form-floating">
					<input type="text" class="form-control" placeholder="" id="cep">
					<label for="cep">Cep</label>
				</div>
				<div class="col-md-9 form-floating">
					<input type="text" class="form-control" placeholder="Endereço" readonly id="endereco"/>
					<label for="endereco">Endereço</label>
				</div>
			</div>

			<div class="row form-group mt-3 form-floating">

				<div class="col-sm-4 form-floating">
					<input type="text" class="form-control" placeholder="Bairro" readonly id="bairro"/>
					<label for="bairro">Bairro</label>
				</div>

				<div class="col-sm-4 form-floating">
					<input type="text" class="form-control" placeholder="Cidade" readonly id="cidade"/>
					<label for="cidade">Cidade</label>
				</div>

				<div class="col-sm-2 form-floating">
					<input type="text" class="form-control" placeholder="UF" readonly id="uf"/>
					<label for="uf">UF</label>
				</div>

				<div class="col-sm-2 form-floating">
					<input type="text" class="form-control" placeholder="Região" readonly id="regiao"/>
					<label for="regiao">Região</label>
				</div>
			</div>

			<div class="d-flex justify-content-center mt-5">
				<button class="btn btn-success p-2 w-25" onclick="getCep()">Enviar</button>
			</div>
		</div>
	</body>
</html>